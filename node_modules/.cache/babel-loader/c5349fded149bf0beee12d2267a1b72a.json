{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-f465db50\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"h1\", null, \"Living together\", -1 /* HOISTED */);\n});\nvar _hoisted_2 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"h1\", null, \"Login\", -1 /* HOISTED */);\n});\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_router_link = _resolveComponent(\"router-link\");\n  var _component_base_button = _resolveComponent(\"base-button\");\n  return _openBlock(), _createElementBlock(\"header\", null, [_createElementVNode(\"nav\", null, [_createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [_hoisted_1];\n    }),\n    _: 1 /* STABLE */\n  }), $setup.isLoggedIn ? (_openBlock(), _createBlock(_component_base_button, {\n    key: 0,\n    onClick: $setup.logout,\n    type: \"filled\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createTextVNode(\"Logout\")];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"])) : _createCommentVNode(\"v-if\", true), $setup.isLoggedIn ? (_openBlock(), _createBlock(_component_base_button, {\n    key: 1,\n    onClick: $setup.getMember,\n    type: \"filled\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createTextVNode(\"My community\")];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"])) : (_openBlock(), _createBlock(_component_router_link, {\n    key: 2,\n    to: \"/auth\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [_hoisted_2];\n    }),\n    _: 1 /* STABLE */\n  }))])]);\n}","map":{"version":3,"mappings":";;;;;sBAI4BA,oBAAwB,YAApB,iBAAe;AAAA;;sBAMPA,oBAAc,YAAV,OAAK;AAAA;;;;;uBAT/CC,oBAaS,iBAZPD,oBAUM,cARFE,aAA0DC;IAA7CC,EAAE,EAAC;EAAG;wBAAC;MAAA,OAAwB,CAAxBC,UAAwB;;;MAGzBC,iBAAU,kBAA7BC,aAAiFC;;IAAjDC,OAAK,EAAEH,aAAM;IAAEI,IAAI,EAAC;;wBAAS;MAAA,OAAM,kBAAN,QAAM;;;uEAChDJ,iBAAU,kBAA7BC,aAA2FC;;IAA3DC,OAAK,EAAEH,gBAAS;IAAGI,IAAI,EAAC;;wBAAS;MAAA,OAAY,kBAAZ,cAAY;;;mDAE7EH,aAA4DJ;;IAAvCC,EAAE,EAAC;;wBAAQ;MAAA,OAAc,CAAdO,UAAc","names":["_createElementVNode","_createElementBlock","_createVNode","_component_router_link","to","_hoisted_1","$setup","_createBlock","_component_base_button","onClick","type","_hoisted_2"],"sourceRoot":"","sources":["/Users/tamashollos/Git/living-togeter/src/components/layouts/TheHeader.vue"],"sourcesContent":["<template>\n  <header>\n    <nav>\n\n        <router-link to=\"/\"><h1>Living together</h1></router-link> \n\n\n        <base-button v-if=\"isLoggedIn\" @click=\"logout\" type=\"filled\">Logout</base-button> \n        <base-button v-if=\"isLoggedIn\" @click=\"getMember\"  type=\"filled\">My community</base-button> \n\n        <router-link  v-else to=\"/auth\"><h1>Login</h1></router-link> \n  \n    </nav>\n\n  </header>\n</template>\n\n<script>\nimport { computed, ref } from '@vue/runtime-core'\nimport { useStore } from 'vuex'\nimport { useRouter } from 'vue-router'\n\nexport default {\n\n  setup() {\n    const store = useStore()\n    const buildingId = ref('')\n    const router = useRouter()\n\n    const isLoggedIn = computed(() => {\n      return store.getters.isAuthenticated\n    })\n\n\n    function logout() {\n      store.dispatch('logout')\n    }\n\n    async function getMember() {\n      const userId = localStorage.getItem('userId')\n      await store.dispatch('residents/fetchApplication', userId)\n      buildingId.value = localStorage.getItem('buildingMember')\n      router.replace('/residents/' + buildingId.value)\n    }\n\n    return{ isLoggedIn, logout, getMember, buildingId}\n  }\n\n}\n</script>\n\n<style scoped>\nheader {\n  padding: 0;\n  margin: 0;\n  box-shadow: 0 2px 2px rgba(0, 0, 0, .25);\n  background-color: #f3f3f3;\n  width: 100%;\n  \n}\nnav {\n  padding: 2vw 0;\n  display: flex;\n  width: 90%;\n  justify-content: space-between;\n  margin: auto;\n}\n\n\n a {\n\n  text-decoration: none;\n  color: black;\n  padding: .5vw 1vw;\n  border-radius: 100vw;\n  border:  transparent;\n\n\n} \n a:active,\n a:hover,\n a.router-link-active {\n  border: #b5b5b5;\n  background-color: white;\n} \n\nnav > div  {\n  display: flex;\n  gap: 5vw\n}\n\n\n</style>"]},"metadata":{},"sourceType":"module"}