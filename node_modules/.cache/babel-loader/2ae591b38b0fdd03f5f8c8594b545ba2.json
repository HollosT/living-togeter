{"ast":null,"code":"import _regeneratorRuntime from \"/Users/tamashollos/Git/living-togeter/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _objectSpread from \"/Users/tamashollos/Git/living-togeter/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"/Users/tamashollos/Git/living-togeter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nexport default {\n  registerBuilding: function registerBuilding(context, data) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var response, error, responseData;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(\"https://living-together-90530-default-rtdb.europe-west1.firebasedatabase.app/buildings.json\", {\n                method: 'POST',\n                body: JSON.stringify(data)\n              });\n            case 2:\n              response = _context.sent;\n              if (response.ok) {\n                _context.next = 6;\n                break;\n              }\n              error = new Error(responseData.message || 'Failed to upload!');\n              throw error;\n            case 6:\n              _context.next = 8;\n              return response.json();\n            case 8:\n              responseData = _context.sent;\n              context.commit('registerBuilding', _objectSpread({}, responseData));\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  loadBuildings: function loadBuildings(context) {\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var response, responseData, error, buildings, key, building;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return fetch(\"https://living-together-90530-default-rtdb.europe-west1.firebasedatabase.app/buildings.json\", {\n                method: 'POST',\n                body: JSON.stringify(data)\n              });\n            case 2:\n              response = _context2.sent;\n              _context2.next = 5;\n              return response.json();\n            case 5:\n              responseData = _context2.sent;\n              if (response.ok) {\n                _context2.next = 9;\n                break;\n              }\n              error = new Error(responseData.message || 'Failed to fetch!');\n              throw error;\n            case 9:\n              buildings = [];\n              for (key in responseData) {\n                building = {\n                  id: key,\n                  address: {\n                    country: responseData[key].address.country,\n                    city: responseData[key].address.city,\n                    street: responseData[key].address.street,\n                    buildingNumber: responseData[key].address.buildingNumber,\n                    postalCode: responseData[key].address.postalCode\n                  },\n                  flats: responseData[key].flats,\n                  name: responseData[key].addressntry,\n                  description: 'Student dormitory complex located in Aalborg. This is the 7th building of the complexum.'\n                };\n              }\n              context.commit('registerBuilding', _objectSpread({}, responseData));\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  }\n};","map":{"version":3,"names":["registerBuilding","context","data","fetch","method","body","JSON","stringify","response","ok","error","Error","responseData","message","json","commit","loadBuildings","buildings","key","building","id","address","country","city","street","buildingNumber","postalCode","flats","name","addressntry","description"],"sources":["/Users/tamashollos/Git/living-togeter/src/store/modules/buildings/actions.js"],"sourcesContent":["export default {\n\n    async registerBuilding(context, data) {\n        const response = await fetch(`https://living-together-90530-default-rtdb.europe-west1.firebasedatabase.app/buildings.json`, {\n            method: 'POST',\n            body: JSON.stringify(data)\n        })\n\n        if(!response.ok) {\n            const error = new Error(responseData.message || 'Failed to upload!')\n            throw error\n        }\n\n        const responseData = await response.json()\n\n        context.commit('registerBuilding', {\n            ...responseData\n\n        })\n    },\n\n\n    async loadBuildings(context) {\n        const response = await fetch(`https://living-together-90530-default-rtdb.europe-west1.firebasedatabase.app/buildings.json`, {\n            method: 'POST',\n            body: JSON.stringify(data)\n        })\n        const responseData = await response.json()\n\n        if(!response.ok) {\n            const error = new Error(responseData.message || 'Failed to fetch!')\n            throw error\n        }\n\n        const buildings = [];\n\n        for(const key in responseData) {\n            const building = {\n                id: key,\n                address: {\n                    country: responseData[key].address.country,\n                    city: responseData[key].address.city,\n                    street: responseData[key].address.street,\n                    buildingNumber: responseData[key].address.buildingNumber, \n                    postalCode: responseData[key].address.postalCode,\n                },\n                flats: responseData[key].flats,\n                name: responseData[key].addressntry,\n                description: 'Student dormitory complex located in Aalborg. This is the 7th building of the complexum.',\n\n            }\n        }\n        context.commit('registerBuilding', {\n            ...responseData\n\n        })\n    }\n\n    \n    \n}"],"mappings":";;;;;;;AAAA,eAAe;EAELA,gBAAgB,4BAACC,OAAO,EAAEC,IAAI,EAAE;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACXC,KAAK,gGAAgG;gBACxHC,MAAM,EAAE,MAAM;gBACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,IAAI;cAC7B,CAAC,CAAC;YAAA;cAHIM,QAAQ;cAAA,IAKVA,QAAQ,CAACC,EAAE;gBAAA;gBAAA;cAAA;cACLC,KAAK,GAAG,IAAIC,KAAK,CAACC,YAAY,CAACC,OAAO,IAAI,mBAAmB,CAAC;cAAA,MAC9DH,KAAK;YAAA;cAAA;cAAA,OAGYF,QAAQ,CAACM,IAAI,EAAE;YAAA;cAApCF,YAAY;cAElBX,OAAO,CAACc,MAAM,CAAC,kBAAkB,oBAC1BH,YAAY,EAEjB;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EACN,CAAC;EAGKI,aAAa,yBAACf,OAAO,EAAE;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACFE,KAAK,gGAAgG;gBACxHC,MAAM,EAAE,MAAM;gBACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,IAAI;cAC7B,CAAC,CAAC;YAAA;cAHIM,QAAQ;cAAA;cAAA,OAIaA,QAAQ,CAACM,IAAI,EAAE;YAAA;cAApCF,YAAY;cAAA,IAEdJ,QAAQ,CAACC,EAAE;gBAAA;gBAAA;cAAA;cACLC,KAAK,GAAG,IAAIC,KAAK,CAACC,YAAY,CAACC,OAAO,IAAI,kBAAkB,CAAC;cAAA,MAC7DH,KAAK;YAAA;cAGTO,SAAS,GAAG,EAAE;cAEpB,KAAUC,GAAG,IAAIN,YAAY,EAAE;gBACrBO,QAAQ,GAAG;kBACbC,EAAE,EAAEF,GAAG;kBACPG,OAAO,EAAE;oBACLC,OAAO,EAAEV,YAAY,CAACM,GAAG,CAAC,CAACG,OAAO,CAACC,OAAO;oBAC1CC,IAAI,EAAEX,YAAY,CAACM,GAAG,CAAC,CAACG,OAAO,CAACE,IAAI;oBACpCC,MAAM,EAAEZ,YAAY,CAACM,GAAG,CAAC,CAACG,OAAO,CAACG,MAAM;oBACxCC,cAAc,EAAEb,YAAY,CAACM,GAAG,CAAC,CAACG,OAAO,CAACI,cAAc;oBACxDC,UAAU,EAAEd,YAAY,CAACM,GAAG,CAAC,CAACG,OAAO,CAACK;kBAC1C,CAAC;kBACDC,KAAK,EAAEf,YAAY,CAACM,GAAG,CAAC,CAACS,KAAK;kBAC9BC,IAAI,EAAEhB,YAAY,CAACM,GAAG,CAAC,CAACW,WAAW;kBACnCC,WAAW,EAAE;gBAEjB,CAAC;cACL;cACA7B,OAAO,CAACc,MAAM,CAAC,kBAAkB,oBAC1BH,YAAY,EAEjB;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EACN;AAIJ,CAAC"},"metadata":{},"sourceType":"module"}